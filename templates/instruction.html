<!DOCTYPE html>
<html>
<head>
    <title>Survey Instruction</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <nav class="navbar navbar-dark bg-info">
        <a class="navbar-brand" href="#">Synthetic Data Collection</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
       
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
            <a class="nav-item nav-link active" href="#">Home <span class="sr-only">(current)</span></a>
            <a class="nav-item nav-link" href="#"></a>
            <a class="nav-item nav-link" href="#"></a>
            <a class="nav-item nav-link disabled" href="#"></a>
            </div>
        </div>
    </nav>
      <div>
        <div class="jumbotron">
            <h3>Synthetic Data Annotation.</h3>
            <form id="user-form" action="/survey" method="GET">
                <div>
                    <p>Please select first the user you are assigned to.</p>
                  
                        <label for="user-select">Welcome! </label>
                        <select id="user-select" name="user_select" class="form-select" aria-label="Default select example">
                            <option value=0 selected>Select User</option>
                            {% for user in users %}
                                <option value="{{ user.id }}">{{ user.user_name }}</option>
                            {% endfor %}
                        </select>
                        <input type="text" id="user_name" name="user_name" value="" hidden>
                </div>
                <div>
                    <ol>
                        
                        <p>
                        Thank you for helping us in this data annotation task! <br><br>
                        In the succeeding pages, assertion, statements, code snippet about programming concepts will be shown. These statements were prompted to be generated by GPT 3.5 model. 
                        Your task is to help us rank from score of 1 to 4 (4 is the highest), according to your level of preference, which from the given choices is better from the other as response to a question. 
                        
                        </p>
        
                        <p>After ranking, click the "Next" button to save your preference and for the system to generate the next statement.</p>
                        <p>Click on "Done" button once you are done or once you wish to stop.</p>
                        <p>Click the 'Reset' button if you wish to change your choices.</p>
        
                        <p>Thank you so much for your time and valuable input!</p>
                        <button id="btnSubmit" class="btn btn-primary" type="submit">Start</button>
                        
                    </ol>
                </div>
            </form>
        </div>
      </div>
    

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function() {

            $('#user-select').change(function(event) {
                event.preventDefault(); // Prevent form submission
                const selectedUserId = $(this).val();
                $('#user_name').val(selectedUserId)

            });

            $('#btnSubmit').click(function(event) {
                
                if($('#user_name').val()==0)
                {
                    event.preventDefault(); // Prevent form submission
                    alert("Please select a user name first!")
                }
                

            });

        
        })
    </script>
</body>
</html>
